<div class="login-background">
  <div class="container mt-5">
    <!-- Initial Login Form (Username/Password) -->
    <div *ngIf="!twoFactorAuthRequired">
      <h2>Login</h2>
      <form (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="username">Username:</label>
          <input type="text" id="username" class="form-control" [(ngModel)]="username" name="username" required />
        </div>
        <div class="mb-3">
          <label for="password">Password:</label>
          <input type="password" id="password" class="form-control" [(ngModel)]="password" name="password" required />
        </div>
        <button class="btn btn-primary" type="submit">Login</button>
        <br>
        <br>
        <p style="color: black;">Didn't Have an account? <a routerLink="/signup">Register now</a></p>
        <div class="text-danger mt-2">{{ error }}</div>
      </form>
    </div>

    <!-- 2FA Verification Form -->
    <div *ngIf="twoFactorAuthRequired">
      <h2>Two-Factor Authentication</h2>
      <div class="alert alert-info" *ngIf="twoFactorMessage">{{ twoFactorMessage }}</div>
      <form (ngSubmit)="onVerify2FACode()">
        <div class="mb-3">
          <label for="twoFactorCode">Verification Code:</label>
          <input type="text" id="twoFactorCode" class="form-control" [(ngModel)]="twoFactorCode" name="twoFactorCode" required />
        </div>
        <button class="btn btn-success me-2" type="submit">Verify Code</button>
        <button class="btn btn-secondary" type="button" (click)="cancel2FA()">Cancel</button>
        <div class="text-danger mt-2">{{ error }}</div>
      </form>
    </div>
  </div>
</div>
