<div class="reviews-container">
  <h3>Customer Reviews</h3>

  <div class="review-form">
    <h4>Write a Review</h4>
    <form (ngSubmit)="submitReview()">
      <div class="rating-stars">
        <span *ngFor="let star of [1, 2, 3, 4, 5]"
              class="star"
              [class.filled]="star <= newReview.rating"
              (click)="setRating(star)">
          ★
        </span>
      </div>

      <div class="form-group">
        <label for="reviewText">Your Review</label>
        <textarea id="reviewText" [(ngModel)]="newReview.reviewText" name="reviewText" rows="4" required></textarea>
      </div>

      <button type="submit" class="submit-button">Submit Review</button>
    </form>
  </div>

  <div class="review-list">
    <div *ngIf="reviews.length === 0" class="no-reviews">
      No reviews yet. Be the first to review this product!
    </div>

    <div *ngFor="let review of reviews" class="review-item">
      <div class="review-header">
        <span class="review-rating">
          <span *ngFor="let star of [1, 2, 3, 4, 5]"
                class="star"
                [class.filled]="star <= +review.rating">
            ★
          </span>
        </span>
        <span class="review-user">{{ review.username || 'Guest' }}</span>
      </div>

      <div class="review-text">
        <p>{{ review.reviewText }}</p>
      </div>

      <div class="review-date">{{ review.createdAt | date:'short' }}</div>
    </div>
  </div>
</div>